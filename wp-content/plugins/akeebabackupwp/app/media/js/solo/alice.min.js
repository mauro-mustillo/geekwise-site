if(typeof(akeeba)=="undefined"){var akeeba={}}if(typeof(akeeba.jQuery)=="undefined"){akeeba.jQuery=jQuery}var AKEEBA_ANALYZE_SUCCESS=1;var AKEEBA_ANALYZE_WARNING=0;var AKEEBA_ANALYZE_FAILURE=-1;if(typeof Solo=="undefined"){var Solo={}}if(typeof Solo.Alice=="undefined"){Solo.Alice={log_selector:null,analyze:null,raw_output:null,translations:{},akeebaUrl:""}}(function(a){Solo.Alice.onLogChange=function(){Solo.Alice.log_selector.val()?Solo.Alice.analyze.show():Solo.Alice.analyze.hide();Solo.Alice.log_selector.val()?Solo.Alice.download.show():Solo.Alice.download.hide()};Solo.Alice.onDownload=function(d){d.preventDefault();var c=jQuery(this).data("url");var b=Solo.Alice.log_selector.val();window.location=c+b;return false};Solo.Alice.onAnalyze=function(){if(Solo.Alice.analyze.data("started")==true){return false}Solo.Alice.analyze.addClass("btn-inverse").removeClass("btn-primary").data("started",true);Solo.Alice.log_selector.attr("disabled",true);Solo.Alice.raw_output.hide();a("#stepper-complete").empty();var b=new AkeebaStepper({onBeforeStart:function(c){c.data.log=Solo.Alice.log_selector.val()},onComplete:function(c){var j=[];var h=akeeba.jQuery(document.createElement("div")).addClass("well");var f=akeeba.jQuery(document.createElement("div")).addClass("row-striped").appendTo(h);var g=JSON.parse(c.Results);var e=Solo.Alice.translations.SOLO_ALICE_SUCCESSS;var d=Solo.Alice.translations.SOLO_ALICE_WARNING;var i=Solo.Alice.translations.SOLO_ALICE_ERROR;akeeba.jQuery.each(g,function(k,n){var p=a(document.createElement("div")).addClass("row-fluid").css("width","99%");var m="label-success";var o=e;if(n.result==AKEEBA_ANALYZE_WARNING){o=d;m="label-warning"}else{if(n.result==AKEEBA_ANALYZE_FAILURE){o=i;m="label-danger"}}a(document.createElement("div")).addClass("pull-left").html(n.check).appendTo(p);a(document.createElement("div")).addClass("pull-right label "+m).html(o).appendTo(p);a(document.createElement("div")).addClass("clearfix").appendTo(p);if(n.result!=AKEEBA_ANALYZE_SUCCESS){j.push({check:n.raw.check,error:n.raw.error});var l=a(document.createElement("div")).addClass("help-block").appendTo(p);a(document.createElement("div")).html(n.error).appendTo(l);a(document.createElement("div")).html(a(document.createElement("em")).html(n.solution)).appendTo(l)}p.appendTo(f)});h.appendTo("#stepper-complete");a("#stepper-progress-pane").hide("fast");a("#stepper-complete").show();Solo.Alice.analyze.removeClass("btn-inverse").addClass("btn-primary").data("started",false);Solo.Alice.log_selector.attr("disabled",null);if(j){a.ajax("index.php?view=Alice&task=translate",{data:{keys:JSON.stringify(j)},success:function(l){var k=l.match(/###(.*?)###/);if(k[1]===undefined){return}l=JSON.parse(k[1]);var m="------ BEGIN OF ALICE RAW OUTPUT -----\n";a.each(l,function(n,o){m+="[b]"+o.check+"[/b]\n"+o.error+"\n\n"});m+="------ END OF ALICE RAW OUTPUT -----\n";Solo.Alice.raw_output.find("textarea").val(m);Solo.Alice.raw_output.show()}})}}});b.init();return false};Solo.Alice.onFocus=function(){var c=a(this);c.select();window.setTimeout(function(){c.select()},1);function b(){c.off("mouseup",b);return false}c.mouseup(b)}})(akeeba.jQuery);